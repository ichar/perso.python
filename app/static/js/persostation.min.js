// Persostation.js
// Generated by Fminmaker.py, version 1.01 beta © Rosan Finance
// Date: 2019-11-23 11:00
default_submit_mode=2;default_action='800';default_log_action='801';default_input_name='order_id';default_menu_item='data-menu-batches';LINE='order';SUBLINE='batch';function sidebar_callback(){$onInfoContainerChanged();}function subline_refresh(filename){$(".filename").each(function(){$(this).html(filename);});}function log_callback(current_action,data,props){}IsTrace=0;function $Init(){$SidebarControl.init(sidebar_callback);page_sort_title=$("#sort_icon").attr('title');SelectedReset();$LineSelector.init();$SublineSelector.init();$ShowMenu('data-menu-batches');$TabSelector.init();interrupt(true,1);}function $ShowMenu(id){var batches=$("#subline-content");var tab=$("#"+id);if(selected_data_menu)selected_data_menu.removeClass('selected');selected_data_menu=tab;batches.hide();if(id=='data-menu-batches')batches.show();if(id==default_menu_item) $SublineSelector.init();else $TablineSelector.init(tab);if(id==default_menu_item&&SelectedGetItem(SUBLINE,'id')) $ActivateInfoData(1);else $ActivateInfoData(0);selected_data_menu.addClass('selected');selected_data_menu_id=id;}function $onPaginationFormSubmit(frm){return true;}function $onFilterFormSubmit(frm){return true;}function $onInfoContainerChanged(){}function $onTabSelect(ob){var id=ob.attr("id");var action=null;selected_menu_action=action;if(action!=null){$InProgress(ob,1);$Go(action);}else if(default_submit_mode>1){selected_menu_action=default_log_action;$InProgress(ob,1);$Go(default_action);}else $ShowMenu(id);return true;}function MakeFilterSubmit(mode,page){$("#filter-form").attr("action",baseURI);switch(mode){case 0: $("#batchtype").each(function(){$(this).val(0);});$("#operator").each(function(){$(this).val('');});case 1: $("#operator").each(function(){$(this).val('');});case 2:case 3:case 4:case 5:break;case 9: $("#order_id").each(function(){$(this).val(0);});$("#batch_id").each(function(){$(this).val(0);});$("#batchtype").each(function(){$(this).val(0);});$("#operator").each(function(){$(this).val('');});}$ResetLogPage();$setPaginationFormSubmit(page);$onParentFormSubmit('filter-form');}jQuery(function($){function $onPersostationSubmit(id){var frm=$("#persostation");$("#active",frm).val(id);frm.submit();}$("input","#persostation").on('change',function(e){var id=$(this).attr('id');$onPersostationSubmit(id);});$("select").on('change',function(e){var id=$(this).attr('id');if(id!='batches') $onPersostationSubmit(id);});$("#batches").on('click',function(e){var id=$(this).val();var value=$("#batches option:selected").text();var active=value.indexOf(operator)>-1?true:false;var other=(!active&&value.split('=').length>2)?true:false;var box=$("#buttons");var disabled='disabled';if(box.hasClass(disabled))box.removeClass(disabled);$("#ok").prop(disabled,active||other?true:false);$("#cancel").prop(disabled,other||!active?true:false);});$(".line").click(function(e){if(is_show_error)return;$LineSelector.onRefresh($(this));});$("#subline-content").on('click','.subline',function(e){if(is_show_error)return;$SublineSelector.onRefresh($(this));});$("#data-section").on('click','.column',function(e){var ob=$(this);var parent=ob.parents("*[class*='line']").first();if(!is_null(parent)&&!parent.hasClass("tabline")&&!ob.hasClass("header")) $InProgress(ob,1);});$(window).on("resize",function(){resize();});$(window).scroll(function(e){});$(window).keydown(function(e){if($ConfirmDialog.is_focused()||$NotificationDialog.is_focused())return;if(is_show_error)return;if(e.keyCode==13){}if(is_search_focused)return;var exit=false;if(exit){e.preventDefault();return false;}});});function page_is_focused(e){return false;}function resize(){var ob=$("#client");var top=getattr(ob.position(),'top',0);var left=getattr(ob.position(),'left',0);if(!is_null(left)) $("#trigger").css('top',top-45).css('left',left+400);}$(function(){if(IsTrace)alert('Document Ready(persostation)');current_context='persostation';resize();try{$_init();}catch(e) {}});
